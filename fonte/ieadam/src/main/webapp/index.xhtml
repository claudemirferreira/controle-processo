<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<!-- 	<h:outputStylesheet library="estilos" name="resources/estilos/style.css" /> -->
	<link type="text/css" rel="stylesheet"
		href="resources/estilos/style-custon.css" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<style type="text/css">
body {
	background-color: #eeeeee;
	font-size: 12px;
	margin-left: 5px !important;
	margin-right: 5px !important;
	margin-top: 5px !important;
	margin-bottom: 5px !important;
}
</style>

</h:head>
<h:body>
	<p:layout fullPage="true">

		<p:layoutUnit position="north" id="tp_titulo">
			<ui:include src="/paginas/navigation.xhtml" />
		</p:layoutUnit>

		<p:layoutUnit id="formPrincipal" position="center" style="width:90%">
			<div align="right" style="background: #eaeaea; width:">
				<p:outputLabel value="Usuário: "
					style="color: #000000; font-weight:bold; font-size: large;" />
				<p:outputLabel value="#{usuarioControlador.usuario.nome}"
					style="color: #000000; font-style: italic; font-size: large;
				font-weight: 600; " />
			</div>
			<p:outputPanel id="paginaCentral">
				<p:growl />
				<ui:include src="#{paginaCentralControlador.paginaCentral}" />
			</p:outputPanel>
		</p:layoutUnit>

	</p:layout>
	
	<p:dialog header="INFORMAÇÃO" widgetVar="dlgInfo" minHeight="40" modal="true">
		<h:outputText value="Para imprimir o relatorio é necessario a versão 9.5 ou superior do Adobe Acrobat Reader." />
		<p/><h:outputText value="Atualize a versão no link: " />
		<a href="http://get.adobe.com/br/reader/">Adobe Acrobat Reader</a>
		<p/><i><b><h:outputText value="Observação: Após a instalação é necessário reiniciar o navegador de internet!" /></b></i>
	</p:dialog>
	
	<script type="text/javascript">
	
		function verificarReader() {
			var version = null;
			var versaoMinima = parseFloat(9.5);
				
			if (window.ActiveXObject) {
				var control = null;
				
				try {
					control = new ActiveXObject('AcroPDF.PDF'); 
				} catch(e) {
					// Do nothing
				}
				if (!control) {
					try {
						control = new ActiveXObject('PDF.PdfCtrl');
					} catch(e) {
						version = 0;
					}
				} else if (control) {
					version = control.GetVersions().split(',');
					version = version[0].split('=');
					version = parseFloat(version[1]);
				}
				
			} else if (navigator.plugins != null) {
				var plugin = navigator.plugins['Adobe Acrobat'];
 				
 				if (plugin==undefined) {
 					if (navigator.plugins["Chrome PDF Viewer"]) {
 						document.getElementById('form:buttonImprimir').click();
 						return;
 					}
 					version = 0;
 					
  				} else if (plugin.version==undefined) {
  					document.getElementById('form:buttonImprimir').click();
  					return;
 				} else {
 					version = parseFloat(plugin.version);
 				}
 			}
			
			if (version >= versaoMinima) {
	 			document.getElementById('form:buttonImprimir').click();
			} else {
				dlgInfo.show();	
			}
		}
	</script>

</h:body>
</html>